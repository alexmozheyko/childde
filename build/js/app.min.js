"use strict";

function _createForOfIteratorHelper(o) { if (typeof Symbol === "undefined" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) { var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var it, normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it["return"] != null) it["return"](); } finally { if (didErr) throw err; } } }; }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(n); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

var userImageEl = document.getElementById('userImage');
var dropdownMenuEl = document.getElementById('accountDropdown');
var scrollToTopBtn = document.getElementById('scrollToTop');
var shortDescEls = document.getElementsByClassName('question-card__content__short-desc');
var qTopDropdownEl;
var qBottomDropdownEl;

var _iterator = _createForOfIteratorHelper(shortDescEls),
    _step;

try {
  var _loop = function _loop() {
    var elem = _step.value;
    elem.addEventListener('click', function () {
      elem.nextElementSibling.style.display = 'block';
      elem.remove();
    });
  };

  for (_iterator.s(); !(_step = _iterator.n()).done;) {
    _loop();
  }
} catch (err) {
  _iterator.e(err);
} finally {
  _iterator.f();
}

function generateQTopDropdownEl(x, y) {
  var xPos = x - 195;
  var yPos = y + 55 + window.scrollY;
  return "\n        <div class=\"question-card__dropdown question-dropdown\" id=\"qTopDropdown\" style=\"transform: translate3d(".concat(xPos, "px, ").concat(yPos, "px, 0px)\">\n            <div class=\"question-dropdown-wrapper\">\n                <a class=\"question-dropdown__item\">\n                    <div class=\"question-dropdown__item__icon\"><img src=\"./assets/icons/share.svg\" /></div><span>Teilen</span>\n                </a>\n                <a class=\"question-dropdown__item\">\n                    <div class=\"question-dropdown__item__icon\"><img src=\"./assets/icons/paintbrush.svg\" /></div><span>Bearbeiten</span>\n                </a>\n                <a class=\"question-dropdown__item question-dropdown__item--with-toggle\" id=\"notifyTogglerOption\">\n                    <div class=\"question-dropdown__item__toggle-wrapper\">\n                        <div>\n                            <div class=\"question-dropdown__item__icon\"><img src=\"./assets/icons/bell.svg\" /></div><span>Mitteilungen</span>\n                        </div>\n                        <label class=\"question-dropdown__item__toggle item-toggle\"><input type=\"checkbox\"/><span class=\"item-toggle__slider\"></span></label></div>\n                    <div class=\"question-dropdown__item__hint\">\n                        (Sie erhalten Mitteilungen \xFCber neue Antworten und Kommentare)\n                    </div>\n                </a>\n            </div>\n        </div>\n    ");
}

function generateQBottomDropdownEl(x, y) {
  var xPos = x - 90;
  var yPos = y - 120 + window.scrollY;
  return "\n        <div class=\"question-card__dropdown question-dropdown question-dropdown--bottom\" id=\"qBottomDropdown\" style=\"transform: translate3d(".concat(xPos, "px, ").concat(yPos, "px, 0px)\">\n            <div class=\"question-dropdown-wrapper\">\n                <a class=\"question-dropdown__item\">\n                    <div class=\"question-dropdown__item__icon\"><img src=\"./assets/icons/share.svg\" /></div><span>Teilen</span>\n                </a>\n                <a class=\"question-dropdown__item\">\n                    <div class=\"question-dropdown__item__icon\"><img src=\"./assets/icons/warning.svg\" /></div><span>Melden</span>\n                </a>\n            </div>\n        </div>\n    ");
}

function toggleQuestionNotifications() {
  var notifyToggleEl = document.getElementById('notifyTogglerOption');

  var _notifyToggleEl$query = notifyToggleEl.querySelector('input'),
      checked = _notifyToggleEl$query.checked;

  notifyToggleEl.querySelector('input').checked = !checked;
}

window.addEventListener('click', function (event) {
  if (qTopDropdownEl && !qTopDropdownEl.contains(event.target)) {
    qTopDropdownEl.remove();
  }

  if (qBottomDropdownEl && !qBottomDropdownEl.contains(event.target)) {
    qBottomDropdownEl.remove();
  }

  dropdownMenuEl.style.display = 'none';

  if (userImageEl.contains(event.target) || dropdownMenuEl.contains(event.target)) {
    dropdownMenuEl.style.display = 'block';
  }

  if (event.target.classList.contains('question-header__dropdown-icon')) {
    var _event$target$getBoun = event.target.getBoundingClientRect(),
        x = _event$target$getBoun.x,
        y = _event$target$getBoun.y;

    document.body.insertAdjacentHTML('beforeend', generateQTopDropdownEl(x, y));
    qTopDropdownEl = document.getElementById('qTopDropdown');
    qTopDropdownEl.querySelector('#notifyTogglerOption').addEventListener('click', toggleQuestionNotifications);
  }

  if (event.target.classList.contains('question-reviews__horizontal-dropdown')) {
    var _event$target$getBoun2 = event.target.getBoundingClientRect(),
        _x = _event$target$getBoun2.x,
        _y = _event$target$getBoun2.y;

    document.body.insertAdjacentHTML('beforeend', generateQBottomDropdownEl(_x, _y));
    qBottomDropdownEl = document.getElementById('qBottomDropdown');
  }
});
scrollToTopBtn.addEventListener('click', function () {
  document.body.scrollTop = 0;
  document.documentElement.scrollTop = 0;
});
"use strict";

function _createForOfIteratorHelper(o) { if (typeof Symbol === "undefined" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) { var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var it, normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it["return"] != null) it["return"](); } finally { if (didErr) throw err; } } }; }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(n); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

var qModal = document.getElementById('qModal');
var qCoverColors = document.getElementById('qCoverColors');
var qCoverBgColor = document.getElementById('qCoverBgColor');
var qDetailsBtn = document.getElementById('qDetailsBtn');
var qColorBtns = document.getElementsByClassName('question-modal__color-btn');
var qModalCover = qModal.querySelector('.question-modal__cover');
autosize(document.getElementsByTagName('textarea'));

function changeQCoverColor(targetEl) {
  var pressedColorBtn = targetEl.closest('.question-modal__color-btn');

  if (pressedColorBtn) {
    qCoverBgColor.style.backgroundColor = pressedColorBtn.style.backgroundColor;

    var _iterator = _createForOfIteratorHelper(qColorBtns),
        _step;

    try {
      for (_iterator.s(); !(_step = _iterator.n()).done;) {
        var qColorBtn = _step.value;
        qColorBtn.firstElementChild.src = "../assets/icons/list_".concat(qColorBtn.id == 'qColorBtnWhite' ? 'black' : 'white', ".svg");
      }
    } catch (err) {
      _iterator.e(err);
    } finally {
      _iterator.f();
    }

    if (pressedColorBtn.id == 'qColorBtnWhite') {
      pressedColorBtn.firstElementChild.src = '../assets/icons/check_black.svg';
      qModalCover.classList.remove('question-modal__cover-white-text');
    } else {
      pressedColorBtn.firstElementChild.src = '../assets/icons/check_white.svg';
      qModalCover.classList.add('question-modal__cover-white-text');
    }
  }
}

function showQDetails() {
  var qDetailsEl = "\n        <textarea \n            class=\"question-modal__textarea question-modal__textarea--small\" \n            placeholder=\"F\xFCgen Sie gegebenenfalls eine detaillierte Beschreibung Ihrer Frage hinzu\"\n            rows=\"2\"\n        ></textarea>\n    ";
  qModalCover.insertAdjacentHTML('afterend', qDetailsEl);
  qDetailsBtn.remove();
  autosize(document.querySelectorAll('textarea'));
}

qModal.addEventListener('click', function (event) {
  if (qCoverColors.contains(event.target)) {
    changeQCoverColor(event.target);
  } else if (qDetailsBtn.contains(event.target)) {
    showQDetails();
  }
});
"use strict";

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var swiperParams = {
  slidesPerView: '2.8',
  spaceBetween: 20,
  freeMode: true,
  grabCursor: true
};
document.addEventListener('DOMContentLoaded', function () {
  var swiperEls = document.getElementsByClassName('base-swiper');

  for (var i = 0; i < swiperEls.length; i++) {
    swiperEls[i].querySelector('.swiper-container').classList.add("swiper-".concat(i + 1));
    swiperEls[i].querySelector('.swiper-button-prev').classList.add("btn-prev-".concat(i + 1));
    swiperEls[i].querySelector('.swiper-button-next').classList.add("btn-next-".concat(i + 1));
    var swiper = new Swiper(".swiper-".concat(i + 1), _objectSpread({}, swiperParams, {
      navigation: {
        nextEl: ".btn-next-".concat(i + 1),
        prevEl: ".btn-prev-".concat(i + 1)
      }
    }));
  }
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC4uanMiLCJhc2tRdWVzdGlvbk1vZGFsLmpzIiwic3dpcGVyLmpzIl0sIm5hbWVzIjpbInVzZXJJbWFnZUVsIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImRyb3Bkb3duTWVudUVsIiwic2Nyb2xsVG9Ub3BCdG4iLCJzaG9ydERlc2NFbHMiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwicVRvcERyb3Bkb3duRWwiLCJxQm90dG9tRHJvcGRvd25FbCIsImVsZW0iLCJhZGRFdmVudExpc3RlbmVyIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwic3R5bGUiLCJkaXNwbGF5IiwicmVtb3ZlIiwiZ2VuZXJhdGVRVG9wRHJvcGRvd25FbCIsIngiLCJ5IiwieFBvcyIsInlQb3MiLCJ3aW5kb3ciLCJzY3JvbGxZIiwiZ2VuZXJhdGVRQm90dG9tRHJvcGRvd25FbCIsInRvZ2dsZVF1ZXN0aW9uTm90aWZpY2F0aW9ucyIsIm5vdGlmeVRvZ2dsZUVsIiwicXVlcnlTZWxlY3RvciIsImNoZWNrZWQiLCJldmVudCIsImNvbnRhaW5zIiwidGFyZ2V0IiwiY2xhc3NMaXN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiYm9keSIsImluc2VydEFkamFjZW50SFRNTCIsInNjcm9sbFRvcCIsImRvY3VtZW50RWxlbWVudCIsInFNb2RhbCIsInFDb3ZlckNvbG9ycyIsInFDb3ZlckJnQ29sb3IiLCJxRGV0YWlsc0J0biIsInFDb2xvckJ0bnMiLCJxTW9kYWxDb3ZlciIsImF1dG9zaXplIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJjaGFuZ2VRQ292ZXJDb2xvciIsInRhcmdldEVsIiwicHJlc3NlZENvbG9yQnRuIiwiY2xvc2VzdCIsImJhY2tncm91bmRDb2xvciIsInFDb2xvckJ0biIsImZpcnN0RWxlbWVudENoaWxkIiwic3JjIiwiaWQiLCJhZGQiLCJzaG93UURldGFpbHMiLCJxRGV0YWlsc0VsIiwicXVlcnlTZWxlY3RvckFsbCIsInN3aXBlclBhcmFtcyIsInNsaWRlc1BlclZpZXciLCJzcGFjZUJldHdlZW4iLCJmcmVlTW9kZSIsImdyYWJDdXJzb3IiLCJzd2lwZXJFbHMiLCJpIiwibGVuZ3RoIiwic3dpcGVyIiwiU3dpcGVyIiwibmF2aWdhdGlvbiIsIm5leHRFbCIsInByZXZFbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQSxJQUFNQSxXQUFXLEdBQU1DLFFBQVEsQ0FBQ0MsY0FBVCxDQUF3QixXQUF4QixDQUF2QjtBQUNBLElBQU1DLGNBQWMsR0FBR0YsUUFBUSxDQUFDQyxjQUFULENBQXdCLGlCQUF4QixDQUF2QjtBQUNBLElBQU1FLGNBQWMsR0FBR0gsUUFBUSxDQUFDQyxjQUFULENBQXdCLGFBQXhCLENBQXZCO0FBQ0EsSUFBTUcsWUFBWSxHQUFLSixRQUFRLENBQUNLLHNCQUFULENBQWdDLG9DQUFoQyxDQUF2QjtBQUVBLElBQUlDLGNBQUo7QUFDQSxJQUFJQyxpQkFBSjs7MkNBRW1CSCxZOzs7OztRQUFSSSxJO0FBQ1BBLElBQUFBLElBQUksQ0FBQ0MsZ0JBQUwsQ0FBc0IsT0FBdEIsRUFBK0IsWUFBTTtBQUNqQ0QsTUFBQUEsSUFBSSxDQUFDRSxrQkFBTCxDQUF3QkMsS0FBeEIsQ0FBOEJDLE9BQTlCLEdBQXdDLE9BQXhDO0FBQ0FKLE1BQUFBLElBQUksQ0FBQ0ssTUFBTDtBQUNILEtBSEQ7OztBQURKLHNEQUFpQztBQUFBO0FBS2hDOzs7Ozs7O0FBRUQsU0FBU0Msc0JBQVQsQ0FBZ0NDLENBQWhDLEVBQW1DQyxDQUFuQyxFQUFzQztBQUNsQyxNQUFNQyxJQUFJLEdBQUdGLENBQUMsR0FBRyxHQUFqQjtBQUNBLE1BQU1HLElBQUksR0FBR0YsQ0FBQyxHQUFHLEVBQUosR0FBU0csTUFBTSxDQUFDQyxPQUE3QjtBQUVBLHlJQUM4R0gsSUFEOUcsaUJBQzJIQyxJQUQzSDtBQXNCSDs7QUFFRCxTQUFTRyx5QkFBVCxDQUFtQ04sQ0FBbkMsRUFBc0NDLENBQXRDLEVBQXlDO0FBQ3JDLE1BQU1DLElBQUksR0FBR0YsQ0FBQyxHQUFHLEVBQWpCO0FBQ0Es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RUFBOEMsWUFBTTtBQUNoRCxNQUFNb0QsU0FBUyxHQUFHN0QsUUFBUSxDQUFDSyxzQkFBVCxDQUFnQyxhQUFoQyxDQUFsQjs7QUFFQSxPQUFLLElBQUl5RCxDQUFDLEdBQUcsQ0FBYixFQUFnQkEsQ0FBQyxHQUFHRCxTQUFTLENBQUNFLE1BQTlCLEVBQXNDRCxDQUFDLEVBQXZDLEVBQTJDO0FBQ3ZDRCxJQUFBQSxTQUFTLENBQUNDLENBQUQsQ0FBVCxDQUFhdEMsYUFBYixDQUEyQixtQkFBM0IsRUFBZ0RLLFNBQWhELENBQTBEdUIsR0FBMUQsa0JBQXlFVSxDQUFDLEdBQUcsQ0FBN0U7QUFDQUQsSUFBQUEsU0FBUyxDQUFDQyxDQUFELENBQVQsQ0FBYXRDLGFBQWIsQ0FBMkIscUJBQTNCLEVBQWtESyxTQUFsRCxDQUE0RHVCLEdBQTVELG9CQUE2RVUsQ0FBQyxHQUFHLENBQWpGO0FBQ0FELElBQUFBLFNBQVMsQ0FBQ0MsQ0FBRCxDQUFULENBQWF0QyxhQUFiLENBQTJCLHFCQUEzQixFQUFrREssU0FBbEQsQ0FBNER1QixHQUE1RCxvQkFBNkVVLENBQUMsR0FBRyxDQUFqRjtBQUVBLFFBQU1FLE1BQU0sR0FBRyxJQUFJQyxNQUFKLG1CQUF1QkgsQ0FBQyxHQUFHLENBQTNCLHFCQUNSTixZQURRO0FBRVhVLE1BQUFBLFVBQVUsRUFBRTtBQUNSQyxRQUFBQSxNQUFNLHNCQUFpQkwsQ0FBQyxHQUFHLENBQXJCLENBREU7QUFFUk0sUUFBQUEsTUFBTSxzQkFBaUJOLENBQUMsR0FBRyxDQUFyQjtBQUZFO0FBRkQsT0FBZjtBQU9IO0FBQ0osQ0FoQkQiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHVzZXJJbWFnZUVsICAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZXJJbWFnZScpO1xyXG5jb25zdCBkcm9wZG93bk1lbnVFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhY2NvdW50RHJvcGRvd24nKTtcclxuY29uc3Qgc2Nyb2xsVG9Ub3BCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2Nyb2xsVG9Ub3AnKTtcclxuY29uc3Qgc2hvcnREZXNjRWxzICAgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdxdWVzdGlvbi1jYXJkX19jb250ZW50X19zaG9ydC1kZXNjJyk7XHJcblxyXG5sZXQgcVRvcERyb3Bkb3duRWw7XHJcbmxldCBxQm90dG9tRHJvcGRvd25FbDtcclxuXHJcbmZvciAoY29uc3QgZWxlbSBvZiBzaG9ydERlc2NFbHMpIHtcclxuICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgZWxlbS5uZXh0RWxlbWVudFNpYmxpbmcuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICAgICAgZWxlbS5yZW1vdmUoKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZW5lcmF0ZVFUb3BEcm9wZG93bkVsKHgsIHkpIHtcclxuICAgIGNvbnN0IHhQb3MgPSB4IC0gMTk1O1xyXG4gICAgY29uc3QgeVBvcyA9IHkgKyA1NSArIHdpbmRvdy5zY3JvbGxZO1xyXG5cclxuICAgIHJldHVybiBgXHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInF1ZXN0aW9uLWNhcmRfX2Ryb3Bkb3duIHF1ZXN0aW9uLWRyb3Bkb3duXCIgaWQ9XCJxVG9wRHJvcGRvd25cIiBzdHlsZT1cInRyYW5zZm9ybTogdHJhbnNsYXRlM2QoJHsgeFBvcyB9cHgsICR7IHlQb3MgfXB4LCAwcHgpXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJxdWVzdGlvbi1kcm9wZG93bi13cmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgICA8YSBjbGFzcz1cInF1ZXN0aW9uLWRyb3Bkb3duX19pdGVtXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInF1ZXN0aW9uLWRyb3Bkb3duX19pdGVtX19pY29uXCI+PGltZyBzcmM9XCIuL2Fzc2V0cy9pY29ucy9zaGFyZS5zdmdcIiAvPjwvZGl2PjxzcGFuPlRlaWxlbjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwicXVlc3Rpb24tZHJvcGRvd25fX2l0ZW1cIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicXVlc3Rpb24tZHJvcGRvd25fX2l0ZW1fX2ljb25cIj48aW1nIHNyYz1cIi4vYXNzZXRzL2ljb25zL3BhaW50YnJ1c2guc3ZnXCIgLz48L2Rpdj48c3Bhbj5CZWFyYmVpdGVuPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgICAgPGEgY2xhc3M9XCJxdWVzdGlvbi1kcm9wZG93bl9faXRlbSBxdWVzdGlvbi1kcm9wZG93bl9faXRlbS0td2l0aC10b2dnbGVcIiBpZD1cIm5vdGlmeVRvZ2dsZXJPcHRpb25cIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicXVlc3Rpb24tZHJvcGRvd25fX2l0ZW1fX3RvZ2dsZS13cmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicXVlc3Rpb24tZHJvcGRvd25fX2l0ZW1fX2ljb25cIj48aW1nIHNyYz1cIi4vYXNzZXRzL2ljb25zL2JlbGwuc3ZnXCIgLz48L2Rpdj48c3Bhbj5NaXR0ZWlsdW5nZW48L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJxdWVzdGlvbi1kcm9wZG93bl9faXRlbV9fdG9nZ2xlIGl0ZW0tdG9nZ2xlXCI+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiLz48c3BhbiBjbGFzcz1cIml0ZW0tdG9nZ2xlX19zbGlkZXJcIj48L3NwYW4+PC9sYWJlbD48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicXVlc3Rpb24tZHJvcGRvd25fX2l0ZW1fX2hpbnRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgKFNpZSBlcmhhbHRlbiBNaXR0ZWlsdW5nZW4gw7xiZXIgbmV1ZSBBbnR3b3J0ZW4gdW5kIEtvbW1lbnRhcmUpXHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgYDtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2VuZXJhdGVRQm90dG9tRHJvcGRvd25FbCh4LCB5KSB7XHJcbiAgICBjb25zdCB4UG9zID0geCAtIDkwO1xyXG4gICAgY29uc3QgeVBvcyA9IHkgLSAxMjAgKyB3aW5kb3cuc2Nyb2xsWTtcclxuXHJcbiAgICByZXR1cm4gYFxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJxdWVzdGlvbi1jYXJkX19kcm9wZG93biBxdWVzdGlvbi1kcm9wZG93biBxdWVzdGlvbi1kcm9wZG93bi0tYm90dG9tXCIgaWQ9XCJxQm90dG9tRHJvcGRvd25cIiBzdHlsZT1cInRyYW5zZm9ybTogdHJhbnNsYXRlM2QoJHsgeFBvcyB9cHgsICR7IHlQb3MgfXB4LCAwcHgpXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJxdWVzdGlvbi1kcm9wZG93bi13cmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgICA8YSBjbGFzcz1cInF1ZXN0aW9uLWRyb3Bkb3duX19pdGVtXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInF1ZXN0aW9uLWRyb3Bkb3duX19pdGVtX19pY29uXCI+PGltZyBzcmM9XCIuL2Fzc2V0cy9pY29ucy9zaGFyZS5zdmdcIiAvPjwvZGl2PjxzcGFuPlRlaWxlbjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwicXVlc3Rpb24tZHJvcGRvd25fX2l0ZW1cIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicXVlc3Rpb24tZHJvcGRvd25fX2l0ZW1fX2ljb25cIj48aW1nIHNyYz1cIi4vYXNzZXRzL2ljb25zL3dhcm5pbmcuc3ZnXCIgLz48L2Rpdj48c3Bhbj5NZWxkZW48L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgYDtcclxufVxyXG5cclxuZnVuY3Rpb24gdG9nZ2xlUXVlc3Rpb25Ob3RpZmljYXRpb25zKCkge1xyXG4gICAgY29uc3Qgbm90aWZ5VG9nZ2xlRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbm90aWZ5VG9nZ2xlck9wdGlvbicpO1xyXG4gICAgY29uc3QgeyBjaGVja2VkIH0gPSBub3RpZnlUb2dnbGVFbC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpO1xyXG5cclxuICAgIG5vdGlmeVRvZ2dsZUVsLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykuY2hlY2tlZCA9ICFjaGVja2VkO1xyXG59XHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBldmVudCA9PiB7XHJcbiAgICBpZiAocVRvcERyb3Bkb3duRWwgJiYgIXFUb3BEcm9wZG93bkVsLmNvbnRhaW5zKGV2ZW50LnRhcmdldCkpIHtcclxuICAgICAgICBxVG9wRHJvcGRvd25FbC5yZW1vdmUoKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAocUJvdHRvbURyb3Bkb3duRWwgJiYgIXFCb3R0b21Ecm9wZG93bkVsLmNvbnRhaW5zKGV2ZW50LnRhcmdldCkpIHtcclxuICAgICAgICBxQm90dG9tRHJvcGRvd25FbC5yZW1vdmUoKTtcclxuICAgIH1cclxuXHJcbiAgICBkcm9wZG93bk1lbnVFbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cclxuICAgIGlmICh1c2VySW1hZ2VFbC5jb250YWlucyhldmVudC50YXJnZXQpIHx8IGRyb3Bkb3duTWVudUVsLmNvbnRhaW5zKGV2ZW50LnRhcmdldCkpIHtcclxuICAgICAgICBkcm9wZG93bk1lbnVFbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncXVlc3Rpb24taGVhZGVyX19kcm9wZG93bi1pY29uJykpIHtcclxuICAgICAgICBjb25zdCB7IHgsIHkgfSA9IGV2ZW50LnRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGdlbmVyYXRlUVRvcERyb3Bkb3duRWwoeCwgeSkpO1xyXG4gICAgICAgIHFUb3BEcm9wZG93bkVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3FUb3BEcm9wZG93bicpO1xyXG5cclxuICAgICAgICBxVG9wRHJvcGRvd25FbC5xdWVyeVNlbGVjdG9yKCcjbm90aWZ5VG9nZ2xlck9wdGlvbicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdG9nZ2xlUXVlc3Rpb25Ob3RpZmljYXRpb25zKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncXVlc3Rpb24tcmV2aWV3c19faG9yaXpvbnRhbC1kcm9wZG93bicpKSB7XHJcbiAgICAgICAgY29uc3QgeyB4LCB5IH0gPSBldmVudC50YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCBnZW5lcmF0ZVFCb3R0b21Ecm9wZG93bkVsKHgsIHkpKTtcclxuICAgICAgICBxQm90dG9tRHJvcGRvd25FbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdxQm90dG9tRHJvcGRvd24nKTtcclxuICAgIH1cclxufSk7XHJcblxyXG5zY3JvbGxUb1RvcEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wID0gMDtcclxuICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgPSAwO1xyXG59KTtcclxuIiwiY29uc3QgcU1vZGFsICAgICAgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdxTW9kYWwnKTtcclxuY29uc3QgcUNvdmVyQ29sb3JzICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdxQ292ZXJDb2xvcnMnKTtcclxuY29uc3QgcUNvdmVyQmdDb2xvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdxQ292ZXJCZ0NvbG9yJyk7XHJcbmNvbnN0IHFEZXRhaWxzQnRuICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncURldGFpbHNCdG4nKTtcclxuY29uc3QgcUNvbG9yQnRucyAgICA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3F1ZXN0aW9uLW1vZGFsX19jb2xvci1idG4nKTtcclxuY29uc3QgcU1vZGFsQ292ZXIgICA9IHFNb2RhbC5xdWVyeVNlbGVjdG9yKCcucXVlc3Rpb24tbW9kYWxfX2NvdmVyJyk7XHJcblxyXG5hdXRvc2l6ZShkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgndGV4dGFyZWEnKSk7XHJcblxyXG5mdW5jdGlvbiBjaGFuZ2VRQ292ZXJDb2xvcih0YXJnZXRFbCkge1xyXG4gICAgY29uc3QgcHJlc3NlZENvbG9yQnRuID0gdGFyZ2V0RWwuY2xvc2VzdCgnLnF1ZXN0aW9uLW1vZGFsX19jb2xvci1idG4nKTtcclxuXHJcbiAgICBpZiAocHJlc3NlZENvbG9yQnRuKSB7XHJcbiAgICAgICAgcUNvdmVyQmdDb2xvci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBwcmVzc2VkQ29sb3JCdG4uc3R5bGUuYmFja2dyb3VuZENvbG9yO1xyXG5cclxuICAgICAgICBmb3IgKGNvbnN0IHFDb2xvckJ0biBvZiBxQ29sb3JCdG5zKSB7XHJcbiAgICAgICAgICAgIHFDb2xvckJ0bi5maXJzdEVsZW1lbnRDaGlsZC5zcmMgPSBgLi4vYXNzZXRzL2ljb25zL2xpc3RfJHsgXHJcbiAgICAgICAgICAgICAgICBxQ29sb3JCdG4uaWQgPT0gJ3FDb2xvckJ0bldoaXRlJyA/ICdibGFjaycgOiAnd2hpdGUnIFxyXG4gICAgICAgICAgICB9LnN2Z2A7IFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHByZXNzZWRDb2xvckJ0bi5pZCA9PSAncUNvbG9yQnRuV2hpdGUnKSB7XHJcbiAgICAgICAgICAgIHByZXNzZWRDb2xvckJ0bi5maXJzdEVsZW1lbnRDaGlsZC5zcmMgPSAnLi4vYXNzZXRzL2ljb25zL2NoZWNrX2JsYWNrLnN2Zyc7XHJcbiAgICAgICAgICAgIHFNb2RhbENvdmVyLmNsYXNzTGlzdC5yZW1vdmUoJ3F1ZXN0aW9uLW1vZGFsX19jb3Zlci13aGl0ZS10ZXh0Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBwcmVzc2VkQ29sb3JCdG4uZmlyc3RFbGVtZW50Q2hpbGQuc3JjID0gJy4uL2Fzc2V0cy9pY29ucy9jaGVja193aGl0ZS5zdmcnO1xyXG4gICAgICAgICAgICBxTW9kYWxDb3Zlci5jbGFzc0xpc3QuYWRkKCdxdWVzdGlvbi1tb2RhbF9fY292ZXItd2hpdGUtdGV4dCcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gc2hvd1FEZXRhaWxzKCkge1xyXG4gICAgY29uc3QgcURldGFpbHNFbCA9IGBcclxuICAgICAgICA8dGV4dGFyZWEgXHJcbiAgICAgICAgICAgIGNsYXNzPVwicXVlc3Rpb24tbW9kYWxfX3RleHRhcmVhIHF1ZXN0aW9uLW1vZGFsX190ZXh0YXJlYS0tc21hbGxcIiBcclxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJGw7xnZW4gU2llIGdlZ2ViZW5lbmZhbGxzIGVpbmUgZGV0YWlsbGllcnRlIEJlc2NocmVpYnVuZyBJaHJlciBGcmFnZSBoaW56dVwiXHJcbiAgICAgICAgICAgIHJvd3M9XCIyXCJcclxuICAgICAgICA+PC90ZXh0YXJlYT5cclxuICAgIGA7XHJcblxyXG4gICAgcU1vZGFsQ292ZXIuaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlcmVuZCcsIHFEZXRhaWxzRWwpO1xyXG4gICAgcURldGFpbHNCdG4ucmVtb3ZlKCk7XHJcblxyXG4gICAgYXV0b3NpemUoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgndGV4dGFyZWEnKSk7XHJcbn1cclxuXHJcbnFNb2RhbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGV2ZW50ID0+IHtcclxuICAgIGlmIChxQ292ZXJDb2xvcnMuY29udGFpbnMoZXZlbnQudGFyZ2V0KSkge1xyXG4gICAgICAgIGNoYW5nZVFDb3ZlckNvbG9yKGV2ZW50LnRhcmdldCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChxRGV0YWlsc0J0bi5jb250YWlucyhldmVudC50YXJnZXQpKSB7XHJcbiAgICAgICAgc2hvd1FEZXRhaWxzKCk7XHJcbiAgICB9XHJcbn0pO1xyXG4iLCJjb25zdCBzd2lwZXJQYXJhbXMgPSB7XHJcbiAgICBzbGlkZXNQZXJWaWV3IDogJzIuOCcsXHJcbiAgICBzcGFjZUJldHdlZW4gIDogMjAsXHJcbiAgICBmcmVlTW9kZSAgICAgIDogdHJ1ZSxcclxuICAgIGdyYWJDdXJzb3IgICAgOiB0cnVlXHJcbn07XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xyXG4gICAgY29uc3Qgc3dpcGVyRWxzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYmFzZS1zd2lwZXInKTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN3aXBlckVscy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHN3aXBlckVsc1tpXS5xdWVyeVNlbGVjdG9yKCcuc3dpcGVyLWNvbnRhaW5lcicpLmNsYXNzTGlzdC5hZGQoYHN3aXBlci0keyBpICsgMSB9YCk7XHJcbiAgICAgICAgc3dpcGVyRWxzW2ldLnF1ZXJ5U2VsZWN0b3IoJy5zd2lwZXItYnV0dG9uLXByZXYnKS5jbGFzc0xpc3QuYWRkKGBidG4tcHJldi0keyBpICsgMSB9YCk7XHJcbiAgICAgICAgc3dpcGVyRWxzW2ldLnF1ZXJ5U2VsZWN0b3IoJy5zd2lwZXItYnV0dG9uLW5leHQnKS5jbGFzc0xpc3QuYWRkKGBidG4tbmV4dC0keyBpICsgMSB9YCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHN3aXBlciA9IG5ldyBTd2lwZXIoYC5zd2lwZXItJHsgaSArIDEgfWAsIHtcclxuICAgICAgICAgICAgLi4uc3dpcGVyUGFyYW1zLFxyXG4gICAgICAgICAgICBuYXZpZ2F0aW9uOiB7XHJcbiAgICAgICAgICAgICAgICBuZXh0RWwgOiBgLmJ0bi1uZXh0LSR7IGkgKyAxIH1gLFxyXG4gICAgICAgICAgICAgICAgcHJldkVsIDogYC5idG4tcHJldi0keyBpICsgMSB9YCxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn0pO1xyXG4iXX0=